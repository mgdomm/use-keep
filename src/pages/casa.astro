---
import { getCollection } from 'astro:content';
import Category from '../layouts/Category.astro';

const allPosts = await getCollection('posts');
const casaPosts = allPosts.filter(post => post.data.category === 'Casa');
---

<Category title="Casa" description="Pequeños objetos para el hogar que solucionan problemas cotidianos sin complicarte la vida.">
  <div class="category-articles">
    <h2>Artículos sobre Casa</h2>
    <ul class="article-list">
      {casaPosts.map(post => (
        <li class="article-item">
          <h3>{post.data.title}</h3>
          <p class="article-description">{post.data.description}</p>
          <a href={`/${post.slug}/`} class="article-link">Leer artículo →</a>
        </li>
      ))}
    </ul>
    {casaPosts.length === 0 && (
      <p class="no-articles">No hay artículos aún en esta categoría.</p>
    )}
  </div>
</Category>

<style>
  .category-articles h2 {
    font-size: 1.5rem;
    margin-bottom: 2rem;
  }

  .article-link {
    color: #0066cc;
    text-decoration: none;
    font-weight: 500;
  }

  .article-link:hover {
    text-decoration: underline;
  }

  .no-articles {
    color: #999;
    font-style: italic;
  }
</style>
